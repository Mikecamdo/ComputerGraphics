<!DOCTYPE html>

<html>
    <script id="vertex-shader" type="x-shader/x-vertex">
        #version 300 es

        in vec4 aPosition;

        in vec2 aTexCoord;
        out vec2 vTexCoord;

        void main()
        {
            vTexCoord = vec2(1.0 - aTexCoord.x, aTexCoord.y); // flips the orientation of the live video feed
            gl_Position = aPosition;
        }
    </script>

    <script id="fragment-shader-1" type="x-shader/x-fragment">
        #version 300 es
        precision mediump float;

        in vec2 vTexCoord;
        out vec4 fColor;

        uniform sampler2D uTexMap;

        void main()
        {
            fColor = texture(uTexMap, vTexCoord);
        }
    </script>

    <script id="fragment-shader-2" type="x-shader/x-fragment">
        #version 300 es
        precision mediump float;

        in vec2 vTexCoord;
        out vec4 fColor;

        uniform sampler2D uTexMap;

        void main()
        {
            vec4 color = texture(uTexMap, vTexCoord);
            float gray = (color.r + color.g + color.b) / 3.0;
            fColor = vec4(gray, gray, gray, 1.0);
        }
    </script>

    <script id="fragment-shader-3" type="x-shader/x-fragment">
        #version 300 es
        precision mediump float;

        in vec2 vTexCoord;
        out vec4 fColor;

        uniform sampler2D uTexMap;

        void main()
        {
            vec4 color = texture(uTexMap, vTexCoord);
            fColor = vec4(1.0 - color.r, 1.0 - color.g, 1.0 - color.b, 1.0);
        }
    </script>

    <script type="text/javascript" src="../Common/initShaders.js"></script>
    <script type="text/javascript" src="CG_HW5_FragmentShaderSelfie_DohertyMichael.js"></script>

    <body>
        <canvas id="gl-canvas" width="640" height="360">
        Oops ... your browser doesn't support the HTML5 canvas element
        </canvas>

        <video style="display: none;"></video>

        <br/>

        <label for="imageFilter">Choose Filter:</label>

        <select name="imageFilter" id="imageFilter">
            <option selected value="1">None</option>
            <option value="2">Grayscale</option>
            <option value="3">Image Negative</option>
        </select>
    </body>
</html>